import { type NextPage } from "next";
import Head from "next/head";
import { useState } from "react";
import { IconSun, IconMoonStars } from "@tabler/icons-react";
import {
  AppShell,
  Navbar,
  Header,
  Text,
  useMantineTheme,
  Group,
  ActionIcon,
  useMantineColorScheme,
  Avatar,
} from "@mantine/core";
import { MainLinks } from "~/components/shell/_mainLinks";
import { User } from "~/components/shell/_user";

const Home: NextPage = () => {
  const theme = useMantineTheme();

  // eslint-disable-next-line @typescript-eslint/unbound-method
  const { colorScheme, toggleColorScheme } = useMantineColorScheme();


  return (
    <>
      <Head>
        <title>Create T3 App</title>
        <meta name="description" content="Generated by create-t3-app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <main>
        <AppShell
          styles={{
            main: {
              background:
                theme.colorScheme === "dark"
                  ? theme.colors.dark[8]
                  : theme.colors.gray[0],
            },
          }}
          navbarOffsetBreakpoint="sm"
          asideOffsetBreakpoint="sm"
          navbar={
            <Navbar p="xs" width={{ base: 300 }}>
              <Navbar.Section grow mt="md">
                <MainLinks />
              </Navbar.Section>
              <Navbar.Section>
                <User />
              </Navbar.Section>
            </Navbar>
          }
          header={
            <Header height={60}>
              <Group sx={{ height: "100%" }} px={20} position="apart">
                Logo
                <ActionIcon
                  variant="default"
                  onClick={() => toggleColorScheme()}
                  size={30}
                >
                  {colorScheme === "dark" ? (
                    <IconSun size="1rem" />
                  ) : (
                    <IconMoonStars size="1rem" />
                  )}
                </ActionIcon>
              </Group>
            </Header>
          }
        >
          <Text>Resize app to see responsive navbar in action</Text>
        </AppShell>{" "}
      </main>
    </>
  );
};

export default Home;
